name: Code Quality

on:
  - push
  - pull_request

jobs:
  php-cs-fixer:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: php-actions/composer@v6
        with:
          php_extensions: dom fileinfo filter libxml xmlreader zip gd
      - name: php-cs-fixer
        run: ./vendor/bin/php-cs-fixer fix --dry-run --diff

  phpstan:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: php-actions/composer@v6
        with:
          php_extensions: dom fileinfo filter libxml xmlreader zip gd
      - uses: php-actions/phpstan@v3
